<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Mapping Malaysia’s Future</h1>
            <h2>Visualizing Fertility across States</h2>
        </div>
    </header>

    <main>
        <section class="chart-container">
            <h2>Death and Fertility Rates</h2>
            <div class="chart-and-text">
                <div class="charts">
                    <div id="chart1" class="chart"></div>
                </div>
                <div class="text-right">
                    <h3>Total Fertility Rate</h3>
                    <p>Total fertility rate is the total number of children born to a woman during her child bearing years experiencing the age specific fertility Rate.</p>
                    <h3>Death Rate</h3>
                    <p>Death rate is the number of deaths per 1000 population</p>
                    <h3>Death Rate VS Fertility Rate</h3>
                    <div class="chart-and-text">
                        <div class="charts">
                            <img src="https://media2.malaymail.com/uploads/articles/2014-05/babies.jpeg" alt="Descriptive text about the image">  
                        </div>                        
                        <div class="text-right">
                            <p>As the years progress, the gap between the death and fertility rate continues to grow larger which is evident in 2022 as in this year no state have fertility rates that exceed
                                the death rate which is an indicator of potential demographic collapse. As the population continues to age with the number of newborns decreasing.
                                
                            </p>                            
                        </div>

                        <!-- <img src="https://focusmalaysia.my/wp-content/uploads/Elderly-Bernama.jpg" alt="Descriptive text about the image" style="max-width: 30%; max-height: 30%;"> -->

                    </div>
                </div>
            </div>
            <div style="margin-bottom: 5%;"></div>

            <div class="chart-and-text">
                <div class="charts">
                    <div id="chart5" class="chart"></div>
                </div>
            </div>
        </section>

        <section class="chart-container">
            <h2>Geographical Data</h2>
            <div class="chart-and-text">
                <div class="charts">
                    <div id="chart2" class="chart"></div>
                </div>
                <div class="text-right">
                    <h3>Total Fertility Rate</h3>
                    <p>Total fertility rate is the total number of children born to a woman during her child bearing years experiencing the age specific fertility Rate.</p>
                    <h3>Death Rate</h3>
                    <p>Death rate is the number of deaths per 1000 population</p>
                    <h3>Death Rate VS Fertility Rate</h3>
                    <p>As the years progress, the gap between the death and fertility rate continues to grow larger which is evident in 2022 as in this year no state have fertility rates that exceed the death rate which is an indicator of potential demographic collapse.</p>
                </div>
            </div>
            <div class="charts">
                <div id="chart3" class="chart map"></div>
            </div>
            <div class="text-below">
                <h3>How does economical growth affect fertility?</h3>
                <p>The fertility rates in more economically developed states as Selangor and Kuala Lumpur are significantly lower despite having the highest household income. Meanwhile states like Terengganu and Kelantan have much higher rates of fertility despite falling behind in terms of household income.</p>
            </div>
        </section>

        <section class="chart-container">
            <h2>Further Comparison</h2>
            <div class="charts">
                <div id="chart4" class="chart"></div>
            </div>
            <div class="text-left">
                <h3>Highlighting the Correlation</h3>
                <p>In Malaysia, the correlation between household income and fertility rate is evident across various states. Wealthier states such as Selangor and Kuala Lumpur typically exhibit lower fertility rates compared to less affluent states like Kelantan and Terengganu. This trend can be attributed to several factors. Higher household incomes often come with increased costs of living, prompting families to have fewer children to manage expenses more effectively. Additionally, higher income levels are associated with greater female participation in the workforce and higher educational attainment, both of which contribute to delayed marriage and childbirth. Access to comprehensive healthcare and family planning services is also more prevalent in wealthier states, allowing families to make informed decisions about family size. Urbanization in these states further influences smaller family sizes due to limited living space and diverse career opportunities. Overall, the economic development in wealthier Malaysian states drives a cultural shift towards smaller families, highlighting the complex interplay between income and fertility rates.</p>
            </div>
        </section>

        <section>
            <h2>The Future</h2>
            <p>The correlation between higher household incomes and lower fertility rates in Malaysia is likely to have significant implications for the country’s future. As wealthier states continue to experience lower fertility rates, Malaysia may face an aging population with a smaller workforce. This demographic shift could lead to increased pressure on social services and healthcare systems, as well as potential challenges in sustaining economic growth. However, it also presents opportunities for Malaysia to invest in education, healthcare, and technology to enhance productivity and support an aging population. Additionally, the trend towards smaller families may result in higher investments per child, leading to a more educated and skilled workforce in the long term. Overall, these changes will require strategic planning and policy adjustments to ensure sustainable development and economic stability.</p>
        </section>
    </main>

    <script>
        const chart1Url = 'https://raw.githubusercontent.com/Jastej-Gill/FIT3179-Visualization2/refs/heads/main/js/death_rate_fertility_vg.json';
        const chart2Url = 'https://raw.githubusercontent.com/Jastej-Gill/FIT3179-Visualization2/refs/heads/main/js/hh_income_boxplot.vg.json';
        const chart3Url = 'https://raw.githubusercontent.com/Jastej-Gill/FIT3179-Visualization2/refs/heads/main/js/tfr_chloropleth_spec.vg.json';
        const chart4Url = 'https://raw.githubusercontent.com/Jastej-Gill/FIT3179-Visualization2/refs/heads/main/js/median_income_tfr_2022.vg.json';
        const chart5Url = 'https://raw.githubusercontent.com/Jastej-Gill/FIT3179-Visualization2/refs/heads/main/js/death_rate_tfr_diff.vg.json';

        vegaEmbed('#chart1', chart1Url).catch(console.error);
        vegaEmbed('#chart2', chart2Url).catch(console.error);
        vegaEmbed('#chart3', chart3Url).catch(console.error);
        vegaEmbed('#chart4', chart4Url).catch(console.error);
        vegaEmbed('#chart5', chart5Url).catch(console.error);
    </script>
</body>
</html>
